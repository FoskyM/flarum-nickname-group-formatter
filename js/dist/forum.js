(()=>{var e={n:r=>{var o=r&&r.__esModule?()=>r.default:()=>r;return e.d(o,{a:o}),o},d:(r,o)=>{for(var t in o)e.o(o,t)&&!e.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:o[t]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};(()=>{"use strict";e.r(r);const o=flarum.core.compat["common/app"];e.n(o)().initializers.add("foskym/nickname-group-formatter",(function(){}));const t=flarum.core.compat["common/extend"],a=flarum.core.compat["forum/app"];var n=e.n(a);const l=flarum.core.compat["forum/components/PostUser"];var m=e.n(l),s=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")};const p=flarum.core.compat["common/models/Group"];var c=e.n(p);const u=flarum.core.compat["common/Model"];var i=e.n(u);const f=flarum.core.compat["forum/components/UserCard"];var d=e.n(f);n().initializers.add("foskym/nickname-group-formatter",(function(){c().prototype.displayStyle=i().attribute("displayStyle"),(0,t.extend)(d().prototype,"oncreate",(function(e){if($(this.element).hasClass("UserCard--popover")){if(!n().forum.attribute("foskym-nickname-group-formatter.showInUserCardPopover"))return}else if(!n().forum.attribute("foskym-nickname-group-formatter.showInUserCard"))return;var r=this.attrs.user;if(r&&r.displayName()){var o=r.groups().find((function(e){return null!==e.displayStyle()}));if(o){var t=o.color(),a=o.displayStyle();this.$(".username").html(a.replace(/\{username\}/g,s(r.displayName())).replace(/\{groupcolor\}/g,t||"#FFF"))}}})),(0,t.extend)(m().prototype,"oncreate",(function(){if(n().forum.attribute("foskym-nickname-group-formatter.showInUserPost")){var e=this.attrs.post.user();if(e&&e.displayName()){var r=e.groups().find((function(e){return null!==e.displayStyle()}));if(r){var o=r.color(),t=r.displayStyle();this.$(".username").html(t.replace(/\{username\}/g,s(e.displayName())).replace(/\{groupcolor\}/g,o||"#FFF"))}}}}))}))})(),module.exports=r})();
//# sourceMappingURL=forum.js.map